apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Values.djInstance }}
data:
  BASE_DN: {{ .Values.baseDN }}
  DS_SET_SIZE: "{{ .Values.directoryServer.replicas }}"
  RS_SET_SIZE: "{{ .Values.replicationServer.replicas }}"
  # example: configstore, cts, userstore. The instance is used to construct the FQDN of DJ.
  DJ_INSTANCE: {{ .Values.djInstance }}
  DJ_INSTANCE_RS: "{{ .Values.djInstance }}-rs"
  # The master server is the first instance in the stateful set (-0 )
  DJ_MASTER_SERVER: {{   .Values.djInstance -}}-0.{{ .Values.djInstance }}
  OPENDJ_JAVA_ARGS: {{ .Values.opendjJavaArgs }}
  BACKUP_HOST: {{ .Values.backupHost }}
  BACKUP_SCHEDULE_FULL: {{ .Values.backupScheduleFull }}
  BACKUP_SCHEDULE_INCREMENTAL: {{ .Values.backupScheduleIncremental }}
  BOOTSTRAP:  {{ .Values.bootstrapScript }}
  BOOTSTRAP_TYPE: {{ .Values.bootstrapType }}
{{- if not (empty .Values.numberSampleUsers) }}
  NUMBER_SAMPLE_USERS: "{{ .Values.numberSampleUsers }}"
{{- end }}
