apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "fullname" . }}
data:
  BASE_DN: {{ .Values.baseDN }}
  # The master server is the first instance in the stateful set (-0 )
  DJ_MASTER_SERVER: {{  template "instanceName" . -}}-0.{{ template "instanceName" . }}
  OPENDJ_JAVA_ARGS: {{ .Values.opendjJavaArgs }}{{- " -Xmx" -}}{{.Values.heapSize }}{{- " -Xms" -}}{{.Values.heapSize }}
  BOOTSTRAP:  {{ .Values.bootstrapScript }}
{{- if not (empty .Values.numberSampleUsers) }}
  NUMBER_SAMPLE_USERS: "{{ .Values.numberSampleUsers }}"
{{- end }}
